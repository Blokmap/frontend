import{u as V,_ as x,a as N}from"./auth-Dja2mZxx.js";import{S as _,r as $,c,d as t,x as l,l as i,L as e,I as C,F as v,z as L,b as f,k as R,f as w}from"./vue-Ct2aXI66.js";import{F as k,g as F,d as I,h as S,k as U}from"./index-3k3nbguw.js";import{g as n,f as u,s as y,j as q}from"./primevue-DmYSBaYr.js";import"./query-J9vOU-6z.js";const B={class:"grid grid-cols-2 gap-3"},P={class:"grid grid-cols-1 gap-3"},A={class:"grid grid-cols-2 gap-3"},E={class:"my-4 grid grid-cols-1 gap-3"},M=["src","alt"],j=_({__name:"RegisterForm",props:{idps:{},error:{},isLoading:{type:Boolean}},emits:["submit"],setup(b,{emit:d}){const p=d,o=$({firstName:"",lastName:"",email:"",username:"",password:"",passwordConfirmation:""});function g(){p("submit",o.value)}return(m,s)=>(f(),c(v,null,[t("form",{class:"my-6 space-y-3",onSubmit:C(g,["prevent"])},[t("div",B,[l(e(u),{variant:"on"},{default:i(()=>[s[6]||(s[6]=t("label",{for:"first-name"},"First Name",-1)),l(e(n),{modelValue:o.value.firstName,"onUpdate:modelValue":s[0]||(s[0]=a=>o.value.firstName=a),id:"first-name",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[6]}),l(e(u),{variant:"on"},{default:i(()=>[s[7]||(s[7]=t("label",{for:"last-name"},"Last Name",-1)),l(e(n),{modelValue:o.value.lastName,"onUpdate:modelValue":s[1]||(s[1]=a=>o.value.lastName=a),id:"last-name",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[7]})]),t("div",P,[l(e(u),{variant:"on"},{default:i(()=>[s[8]||(s[8]=t("label",{for:"email"},"Email",-1)),l(e(n),{modelValue:o.value.email,"onUpdate:modelValue":s[2]||(s[2]=a=>o.value.email=a),id:"email",type:"email",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[8]}),l(e(u),{variant:"on"},{default:i(()=>[s[9]||(s[9]=t("label",{for:"username"},"Username",-1)),l(e(n),{modelValue:o.value.username,"onUpdate:modelValue":s[3]||(s[3]=a=>o.value.username=a),id:"username",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[9]})]),t("div",A,[l(e(u),{variant:"on"},{default:i(()=>[s[10]||(s[10]=t("label",{for:"password"},"Password",-1)),l(e(n),{modelValue:o.value.password,"onUpdate:modelValue":s[4]||(s[4]=a=>o.value.password=a),id:"password",type:"password",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[10]}),l(e(u),{variant:"on"},{default:i(()=>[s[11]||(s[11]=t("label",{for:"confirm-password"},"Confirm Password",-1)),l(e(n),{modelValue:o.value.passwordConfirmation,"onUpdate:modelValue":s[5]||(s[5]=a=>o.value.passwordConfirmation=a),id:"confirm-password",type:"password",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[11]})]),l(e(y),{class:"mt-3 w-full",label:"Continue with email",severity:"primary",type:"submit",loading:m.isLoading},{icon:i(()=>[l(e(k),{icon:e(F)},null,8,["icon"])]),_:1},8,["loading"])],32),t("div",E,[(f(!0),c(v,null,L(m.idps,a=>(f(),R(e(y),{key:a.name,class:"w-full",severity:"secondary",label:`Continue with ${a.name}`},{icon:i(()=>[t("img",{src:a.logo,alt:a.name,class:"h-5 w-5 object-contain"},null,8,M)]),_:2},1032,["label"]))),128))])],64))}}),z={class:"flex items-start gap-8"},O={class:"basis-3/5"},T={class:"basis-2/5"},J=_({__name:"RegisterPage",setup(b){I();const{showMessage:d}=S(),{data:p,isLoading:o}=V(),{register:g,registerIsLoading:m,registerError:s}=U({onError:a=>{var r;d({severity:"error",summary:"An error occurred",detail:(r=a.response)==null?void 0:r.data})},onSuccess:()=>{d({severity:"success",summary:"Registration Successful",detail:"You have successfully registered. Please check your email for further instructions."})}});return(a,r)=>(f(),c("div",z,[t("div",O,[r[0]||(r[0]=t("h2",{class:"text-color my-6 text-xl font-semibold"},[t("span",{class:"text-secondary font-bold"},"Register"),w(" through your institution ")],-1)),l(x,{institutions:e(p),"is-loading":e(o)},null,8,["institutions","is-loading"])]),l(e(q),{layout:"vertical",align:"center",class:"mx-0 self-stretch"},{default:i(()=>r[1]||(r[1]=[t("span",{class:"text-sm font-bold"},"OR",-1)])),_:1,__:[1]}),t("div",T,[r[2]||(r[2]=t("h2",{class:"text-color my-6 text-xl font-semibold"},[t("span",{class:"text-secondary font-bold"},"Register"),w(" without institution ")],-1)),l(j,{onSubmit:e(g),idps:e(N),"is-loading":e(m),error:e(s)},null,8,["onSubmit","idps","is-loading","error"])])]))}});export{J as default};
