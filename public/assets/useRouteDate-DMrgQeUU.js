import{r as q,w as x,n as C,L as B,a7 as R,a6 as g,a5 as h,H as b,o as T,a0 as V,c as D,F as M,e as N,l as O,f as w,y as v,D as I,p as S,q as U,J as $,C as H,Y as f,T as L,d as y}from"./vue-Ch5H8NcK.js";import{A as E,h as F}from"./primevue-Ex1kWbwE.js";import{e as _,_ as z,S as A,v as P,aU as J}from"./index-BH2d3-5Q.js";function Y(r,e,l){const u=q({});function c(){if(!r.value||!e.value)return;const a=r.value.getBoundingClientRect(),o=e.value.getBoundingClientRect(),n=window.innerHeight-a.bottom-16,s=a.top-16,t=n<o.height&&s>n,p=a.left,i=t?a.top-o.height-24:a.bottom;u.value={position:"absolute",left:`${p}px`,top:`${i}px`,zIndex:"9999"}}return x(l,async a=>{a&&(await C(),c())}),{positionStyles:u,updatePosition:c}}const j={ref:"container"},G=B({__name:"DateInput",props:R({minDate:{},maxDate:{}},{"is-visible":{type:Boolean,default:!1},"is-visibleModifiers":{},date:{default:new Date,required:!0},dateModifiers:{}}),emits:["update:is-visible","update:date"],setup(r){const e=g(r,"is-visible"),l=g(r,"date"),u=h("container"),c=h("overlay"),{locale:a}=_(),{positionStyles:o}=Y(u,c,e),d=b(()=>l.value.toLocaleDateString(a.value,{day:"numeric",month:"short",year:"numeric"}));function n(){e.value=!1}function s(){e.value=!e.value}function t(i){const m=u.value;m&&!m.contains(i.target)&&n()}function p(i){i&&i instanceof Date&&(l.value=i,n())}return T(()=>{document.addEventListener("click",t)}),V(()=>{document.removeEventListener("click",t)}),(i,m)=>(y(),D(M,null,[N("div",j,[w(i.$slots,"toggle",{toggle:s,isOpen:e.value},()=>[v(f(F),{class:"w-full",onClick:s,"model-value":d.value,readonly:""},null,8,["model-value"])],!0)],512),(y(),O(L,{to:"body"},[v(I,{name:"slide-down"},{default:S(()=>[e.value?(y(),D("div",{key:0,ref:"overlay",style:H(f(o)),onClick:m[1]||(m[1]=$(()=>{},["stop"]))},[v(f(E),{modelValue:l.value,"onUpdate:modelValue":[m[0]||(m[0]=k=>l.value=k),p],locale:f(a),"min-date":r.minDate,"max-date":r.maxDate,inline:""},{footer:S(()=>[w(i.$slots,"footer",{close:n},void 0,!0)]),_:3},8,["modelValue","locale","min-date","max-date"])],4)):U("",!0)]),_:3})]))],64))}}),X=z(G,[["__scopeId","data-v-7d963fc0"]]);function Z(r={}){const{paramName:e="day",source:l="query",updateMethod:u="replace",defaultDate:c=new Date,dayOnly:a=!0}=r,o=A(),d=P();return b({get:()=>{var t,p;const n=l==="query"?(t=o.query[e])==null?void 0:t.toString():(p=o.params[e])==null?void 0:p.toString();if(!n)return c;const s=new Date(n);return isNaN(s.getTime())?c:s},set:n=>{const s=J(n,a);if(s)if(l==="query"){const t={query:{...o.query,[e]:s}};u==="push"?d.push(t):d.replace(t)}else{const t={name:o.name||void 0,params:{...o.params,[e]:s},query:o.query};u==="push"?d.push(t):d.replace(t)}}})}export{X as D,Z as u};
