var be=s=>{throw TypeError(s)};var Yt=(s,t,e)=>t.has(s)||be("Cannot "+e);var r=(s,t,e)=>(Yt(s,t,"read from private field"),e?e.call(s):t.get(s)),l=(s,t,e)=>t.has(s)?be("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),o=(s,t,e,i)=>(Yt(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e),m=(s,t,e)=>(Yt(s,t,"access private method"),e);var $t=(s,t,e,i)=>({set _(n){o(s,t,n,e)},get _(){return r(s,t,i)}});import{K as xe,L as ns,M as as,G as us,r as os,n as hs,N as Ke,O as ke,H as Le,w as wt,P as He,Q as _e,a as Ge,R as Ne}from"./vue-Ct2aXI66.js";var jt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gt=typeof window>"u"||"Deno"in globalThis;function L(){}function cs(s,t){return typeof s=="function"?s(t):s}function Xt(s){return typeof s=="number"&&s>=0&&s!==1/0}function $e(s,t){return Math.max(s+(t||0)-Date.now(),0)}function ht(s,t){return typeof s=="function"?s(t):s}function N(s,t){return typeof s=="function"?s(t):s}function ge(s,t){const{type:e="all",exact:i,fetchStatus:n,predicate:a,queryKey:h,stale:u}=s;if(h){if(i){if(t.queryHash!==ye(h,t.options))return!1}else if(!kt(t.queryKey,h))return!1}if(e!=="all"){const p=t.isActive();if(e==="active"&&!p||e==="inactive"&&p)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||n&&n!==t.state.fetchStatus||a&&!a(t))}function Oe(s,t){const{exact:e,status:i,predicate:n,mutationKey:a}=s;if(a){if(!t.options.mutationKey)return!1;if(e){if(Ot(t.options.mutationKey)!==Ot(a))return!1}else if(!kt(t.options.mutationKey,a))return!1}return!(i&&t.state.status!==i||n&&!n(t))}function ye(s,t){return((t==null?void 0:t.queryKeyHashFn)||Ot)(s)}function Ot(s){return JSON.stringify(s,(t,e)=>Zt(e)?Object.keys(e).sort().reduce((i,n)=>(i[n]=e[n],i),{}):e)}function kt(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?Object.keys(t).every(e=>kt(s[e],t[e])):!1}function Be(s,t){if(s===t)return s;const e=Ce(s)&&Ce(t);if(e||Zt(s)&&Zt(t)){const i=e?s:Object.keys(s),n=i.length,a=e?t:Object.keys(t),h=a.length,u=e?[]:{},p=new Set(i);let Q=0;for(let g=0;g<h;g++){const f=e?g:a[g];(!e&&p.has(f)||e)&&s[f]===void 0&&t[f]===void 0?(u[f]=void 0,Q++):(u[f]=Be(s[f],t[f]),u[f]===s[f]&&s[f]!==void 0&&Q++)}return n===h&&Q===n?s:u}return t}function zt(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const e in s)if(s[e]!==t[e])return!1;return!0}function Ce(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Zt(s){if(!we(s))return!1;const t=s.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!we(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function we(s){return Object.prototype.toString.call(s)==="[object Object]"}function ls(s){return new Promise(t=>{setTimeout(t,s)})}function te(s,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(s,t):e.structuralSharing!==!1?Be(s,t):t}function Ks(s){return s}function fs(s,t,e=0){const i=[...s,t];return e&&i.length>e?i.slice(1):i}function ds(s,t,e=0){const i=[t,...s];return e&&i.length>e?i.slice(0,-1):i}var pe=Symbol();function Ve(s,t){return!s.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!s.queryFn||s.queryFn===pe?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function ee(s,t){return typeof s=="function"?s(...t):!!s}var lt,Z,Qt,Fe,ys=(Fe=class extends jt{constructor(){super();l(this,lt);l(this,Z);l(this,Qt);o(this,Qt,t=>{if(!gt&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){r(this,Z)||this.setEventListener(r(this,Qt))}onUnsubscribe(){var t;this.hasListeners()||((t=r(this,Z))==null||t.call(this),o(this,Z,void 0))}setEventListener(t){var e;o(this,Qt,t),(e=r(this,Z))==null||e.call(this),o(this,Z,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){r(this,lt)!==t&&(o(this,lt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof r(this,lt)=="boolean"?r(this,lt):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},lt=new WeakMap,Z=new WeakMap,Qt=new WeakMap,Fe),me=new ys,St,tt,Rt,De,ps=(De=class extends jt{constructor(){super();l(this,St,!0);l(this,tt);l(this,Rt);o(this,Rt,t=>{if(!gt&&window.addEventListener){const e=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",i)}}})}onSubscribe(){r(this,tt)||this.setEventListener(r(this,Rt))}onUnsubscribe(){var t;this.hasListeners()||((t=r(this,tt))==null||t.call(this),o(this,tt,void 0))}setEventListener(t){var e;o(this,Rt,t),(e=r(this,tt))==null||e.call(this),o(this,tt,t(this.setOnline.bind(this)))}setOnline(t){r(this,St)!==t&&(o(this,St,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return r(this,St)}},St=new WeakMap,tt=new WeakMap,Rt=new WeakMap,De),Wt=new ps;function se(){let s,t;const e=new Promise((n,a)=>{s=n,t=a});e.status="pending",e.catch(()=>{});function i(n){Object.assign(e,n),delete e.resolve,delete e.reject}return e.resolve=n=>{i({status:"fulfilled",value:n}),s(n)},e.reject=n=>{i({status:"rejected",reason:n}),t(n)},e}function ms(s){return Math.min(1e3*2**s,3e4)}function ze(s){return(s??"online")==="online"?Wt.isOnline():!0}var We=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Jt(s){return s instanceof We}function Ye(s){let t=!1,e=0,i=!1,n;const a=se(),h=y=>{var b;i||(d(new We(y)),(b=s.abort)==null||b.call(s))},u=()=>{t=!0},p=()=>{t=!1},Q=()=>me.isFocused()&&(s.networkMode==="always"||Wt.isOnline())&&s.canRun(),g=()=>ze(s.networkMode)&&s.canRun(),f=y=>{var b;i||(i=!0,(b=s.onSuccess)==null||b.call(s,y),n==null||n(),a.resolve(y))},d=y=>{var b;i||(i=!0,(b=s.onError)==null||b.call(s,y),n==null||n(),a.reject(y))},c=()=>new Promise(y=>{var b;n=S=>{(i||Q())&&y(S)},(b=s.onPause)==null||b.call(s)}).then(()=>{var y;n=void 0,i||(y=s.onContinue)==null||y.call(s)}),w=()=>{if(i)return;let y;const b=e===0?s.initialPromise:void 0;try{y=b??s.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(f).catch(S=>{var H;if(i)return;const M=s.retry??(gt?0:3),R=s.retryDelay??ms,E=typeof R=="function"?R(e,S):R,K=M===!0||typeof M=="number"&&e<M||typeof M=="function"&&M(e,S);if(t||!K){d(S);return}e++,(H=s.onFail)==null||H.call(s,e,S),ls(E).then(()=>Q()?void 0:c()).then(()=>{t?d(S):w()})})};return{promise:a,cancel:h,continue:()=>(n==null||n(),a),cancelRetry:u,continueRetry:p,canStart:g,start:()=>(g()?w():c().then(w),a)}}var vs=s=>setTimeout(s,0);function bs(){let s=[],t=0,e=u=>{u()},i=u=>{u()},n=vs;const a=u=>{t?s.push(u):n(()=>{e(u)})},h=()=>{const u=s;s=[],u.length&&n(()=>{i(()=>{u.forEach(p=>{e(p)})})})};return{batch:u=>{let p;t++;try{p=u()}finally{t--,t||h()}return p},batchCalls:u=>(...p)=>{a(()=>{u(...p)})},schedule:a,setNotifyFunction:u=>{e=u},setBatchNotifyFunction:u=>{i=u},setScheduler:u=>{n=u}}}var A=bs(),ft,Me,Je=(Me=class{constructor(){l(this,ft)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xt(this.gcTime)&&o(this,ft,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(gt?1/0:5*60*1e3))}clearGcTimeout(){r(this,ft)&&(clearTimeout(r(this,ft)),o(this,ft,void 0))}},ft=new WeakMap,Me),Pt,Ft,k,dt,U,Lt,yt,_,z,Ee,gs=(Ee=class extends Je{constructor(t){super();l(this,_);l(this,Pt);l(this,Ft);l(this,k);l(this,dt);l(this,U);l(this,Lt);l(this,yt);o(this,yt,!1),o(this,Lt,t.defaultOptions),this.setOptions(t.options),this.observers=[],o(this,dt,t.client),o(this,k,r(this,dt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,o(this,Pt,Os(this.options)),this.state=t.state??r(this,Pt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=r(this,U))==null?void 0:t.promise}setOptions(t){this.options={...r(this,Lt),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&r(this,k).remove(this)}setData(t,e){const i=te(this.state.data,t,this.options);return m(this,_,z).call(this,{data:i,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),i}setState(t,e){m(this,_,z).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var i,n;const e=(i=r(this,U))==null?void 0:i.promise;return(n=r(this,U))==null||n.cancel(t),e?e.then(L).catch(L):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(r(this,Pt))}isActive(){return this.observers.some(t=>N(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pe||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ht(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$e(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=r(this,U))==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=r(this,U))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),r(this,k).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(r(this,U)&&(r(this,yt)?r(this,U).cancel({revert:!0}):r(this,U).cancelRetry()),this.scheduleGc()),r(this,k).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||m(this,_,z).call(this,{type:"invalidate"})}fetch(t,e){var Q,g,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(r(this,U))return r(this,U).continueRetry(),r(this,U).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(c=>c.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(o(this,yt,!0),i.signal)})},a=()=>{const d=Ve(this.options,e),w=(()=>{const y={client:r(this,dt),queryKey:this.queryKey,meta:this.meta};return n(y),y})();return o(this,yt,!1),this.options.persister?this.options.persister(d,w,this):d(w)},u=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:r(this,dt),state:this.state,fetchFn:a};return n(d),d})();(Q=this.options.behavior)==null||Q.onFetch(u,this),o(this,Ft,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=u.fetchOptions)==null?void 0:g.meta))&&m(this,_,z).call(this,{type:"fetch",meta:(f=u.fetchOptions)==null?void 0:f.meta});const p=d=>{var c,w,y,b;Jt(d)&&d.silent||m(this,_,z).call(this,{type:"error",error:d}),Jt(d)||((w=(c=r(this,k).config).onError)==null||w.call(c,d,this),(b=(y=r(this,k).config).onSettled)==null||b.call(y,this.state.data,d,this)),this.scheduleGc()};return o(this,U,Ye({initialPromise:e==null?void 0:e.initialPromise,fn:u.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var c,w,y,b;if(d===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(S){p(S);return}(w=(c=r(this,k).config).onSuccess)==null||w.call(c,d,this),(b=(y=r(this,k).config).onSettled)==null||b.call(y,d,this.state.error,this),this.scheduleGc()},onError:p,onFail:(d,c)=>{m(this,_,z).call(this,{type:"failed",failureCount:d,error:c})},onPause:()=>{m(this,_,z).call(this,{type:"pause"})},onContinue:()=>{m(this,_,z).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),r(this,U).start()}},Pt=new WeakMap,Ft=new WeakMap,k=new WeakMap,dt=new WeakMap,U=new WeakMap,Lt=new WeakMap,yt=new WeakMap,_=new WeakSet,z=function(t){const e=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Xe(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Jt(n)&&n.revert&&r(this,Ft)?{...r(this,Ft),fetchStatus:"idle"}:{...i,error:n,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=e(this.state),A.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),r(this,k).notify({query:this,type:"updated",action:t})})},Ee);function Xe(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ze(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Os(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,e=t!==void 0,i=e?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var $,Ae,Ze=(Ae=class extends jt{constructor(e={}){super();l(this,$);this.config=e,o(this,$,new Map)}build(e,i,n){const a=i.queryKey,h=i.queryHash??ye(a,i);let u=this.get(h);return u||(u=new gs({client:e,queryKey:a,queryHash:h,options:e.defaultQueryOptions(i),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){r(this,$).has(e.queryHash)||(r(this,$).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const i=r(this,$).get(e.queryHash);i&&(e.destroy(),i===e&&r(this,$).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){A.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return r(this,$).get(e)}getAll(){return[...r(this,$).values()]}find(e){const i={exact:!0,...e};return this.getAll().find(n=>ge(i,n))}findAll(e={}){const i=this.getAll();return Object.keys(e).length>0?i.filter(n=>ge(e,n)):i}notify(e){A.batch(()=>{this.listeners.forEach(i=>{i(e)})})}onFocus(){A.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){A.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$=new WeakMap,Ae),B,q,pt,V,X,Ue,Cs=(Ue=class extends Je{constructor(t){super();l(this,V);l(this,B);l(this,q);l(this,pt);this.mutationId=t.mutationId,o(this,q,t.mutationCache),o(this,B,[]),this.state=t.state||ts(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){r(this,B).includes(t)||(r(this,B).push(t),this.clearGcTimeout(),r(this,q).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){o(this,B,r(this,B).filter(e=>e!==t)),this.scheduleGc(),r(this,q).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){r(this,B).length||(this.state.status==="pending"?this.scheduleGc():r(this,q).remove(this))}continue(){var t;return((t=r(this,pt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,h,u,p,Q,g,f,d,c,w,y,b,S,M,R,E,K,H,xt,I;const e=()=>{m(this,V,X).call(this,{type:"continue"})};o(this,pt,Ye({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,D)=>{m(this,V,X).call(this,{type:"failed",failureCount:F,error:D})},onPause:()=>{m(this,V,X).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>r(this,q).canRun(this)}));const i=this.state.status==="pending",n=!r(this,pt).canStart();try{if(i)e();else{m(this,V,X).call(this,{type:"pending",variables:t,isPaused:n}),await((h=(a=r(this,q).config).onMutate)==null?void 0:h.call(a,t,this));const D=await((p=(u=this.options).onMutate)==null?void 0:p.call(u,t));D!==this.state.context&&m(this,V,X).call(this,{type:"pending",context:D,variables:t,isPaused:n})}const F=await r(this,pt).start();return await((g=(Q=r(this,q).config).onSuccess)==null?void 0:g.call(Q,F,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,F,t,this.state.context)),await((w=(c=r(this,q).config).onSettled)==null?void 0:w.call(c,F,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,F,null,t,this.state.context)),m(this,V,X).call(this,{type:"success",data:F}),F}catch(F){try{throw await((M=(S=r(this,q).config).onError)==null?void 0:M.call(S,F,t,this.state.context,this)),await((E=(R=this.options).onError)==null?void 0:E.call(R,F,t,this.state.context)),await((H=(K=r(this,q).config).onSettled)==null?void 0:H.call(K,void 0,F,this.state.variables,this.state.context,this)),await((I=(xt=this.options).onSettled)==null?void 0:I.call(xt,void 0,F,t,this.state.context)),F}finally{m(this,V,X).call(this,{type:"error",error:F})}}finally{r(this,q).runNext(this)}}},B=new WeakMap,q=new WeakMap,pt=new WeakMap,V=new WeakSet,X=function(t){const e=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),A.batch(()=>{r(this,B).forEach(i=>{i.onMutationUpdate(t)}),r(this,q).notify({mutation:this,type:"updated",action:t})})},Ue);function ts(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var W,G,Ht,Ie,es=(Ie=class extends jt{constructor(e={}){super();l(this,W);l(this,G);l(this,Ht);this.config=e,o(this,W,new Set),o(this,G,new Map),o(this,Ht,0)}build(e,i,n){const a=new Cs({mutationCache:this,mutationId:++$t(this,Ht)._,options:e.defaultMutationOptions(i),state:n});return this.add(a),a}add(e){r(this,W).add(e);const i=Bt(e);if(typeof i=="string"){const n=r(this,G).get(i);n?n.push(e):r(this,G).set(i,[e])}this.notify({type:"added",mutation:e})}remove(e){if(r(this,W).delete(e)){const i=Bt(e);if(typeof i=="string"){const n=r(this,G).get(i);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&r(this,G).delete(i)}}this.notify({type:"removed",mutation:e})}canRun(e){const i=Bt(e);if(typeof i=="string"){const n=r(this,G).get(i),a=n==null?void 0:n.find(h=>h.state.status==="pending");return!a||a===e}else return!0}runNext(e){var n;const i=Bt(e);if(typeof i=="string"){const a=(n=r(this,G).get(i))==null?void 0:n.find(h=>h!==e&&h.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){A.batch(()=>{r(this,W).forEach(e=>{this.notify({type:"removed",mutation:e})}),r(this,W).clear(),r(this,G).clear()})}getAll(){return Array.from(r(this,W))}find(e){const i={exact:!0,...e};return this.getAll().find(n=>Oe(i,n))}findAll(e={}){return this.getAll().filter(i=>Oe(e,i))}notify(e){A.batch(()=>{this.listeners.forEach(i=>{i(e)})})}resumePausedMutations(){const e=this.getAll().filter(i=>i.state.isPaused);return A.batch(()=>Promise.all(e.map(i=>i.continue().catch(L))))}},W=new WeakMap,G=new WeakMap,Ht=new WeakMap,Ie);function Bt(s){var t;return(t=s.options.scope)==null?void 0:t.id}function Qe(s){return{onFetch:(t,e)=>{var g,f,d,c,w;const i=t.options,n=(d=(f=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,a=((c=t.state.data)==null?void 0:c.pages)||[],h=((w=t.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},p=0;const Q=async()=>{let y=!1;const b=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},S=Ve(t.options,t.fetchOptions),M=async(R,E,K)=>{if(y)return Promise.reject();if(E==null&&R.pages.length)return Promise.resolve(R);const xt=(()=>{const ct={client:t.client,queryKey:t.queryKey,pageParam:E,direction:K?"backward":"forward",meta:t.options.meta};return b(ct),ct})(),I=await S(xt),{maxPages:F}=t.options,D=K?ds:fs;return{pages:D(R.pages,I,F),pageParams:D(R.pageParams,E,F)}};if(n&&a.length){const R=n==="backward",E=R?ws:Se,K={pages:a,pageParams:h},H=E(i,K);u=await M(K,H,R)}else{const R=s??a.length;do{const E=p===0?h[0]??i.initialPageParam:Se(i,u);if(p>0&&E==null)break;u=await M(u,E),p++}while(p<R)}return u};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,Q,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=Q}}}function Se(s,{pages:t,pageParams:e}){const i=t.length-1;return t.length>0?s.getNextPageParam(t[i],t,e[i],e):void 0}function ws(s,{pages:t,pageParams:e}){var i;return t.length>0?(i=s.getPreviousPageParam)==null?void 0:i.call(s,t[0],t,e[0],e):void 0}var P,et,st,Dt,Mt,it,Et,At,qe,Qs=(qe=class{constructor(t={}){l(this,P);l(this,et);l(this,st);l(this,Dt);l(this,Mt);l(this,it);l(this,Et);l(this,At);o(this,P,t.queryCache||new Ze),o(this,et,t.mutationCache||new es),o(this,st,t.defaultOptions||{}),o(this,Dt,new Map),o(this,Mt,new Map),o(this,it,0)}mount(){$t(this,it)._++,r(this,it)===1&&(o(this,Et,me.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,P).onFocus())})),o(this,At,Wt.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,P).onOnline())})))}unmount(){var t,e;$t(this,it)._--,r(this,it)===0&&((t=r(this,Et))==null||t.call(this),o(this,Et,void 0),(e=r(this,At))==null||e.call(this),o(this,At,void 0))}isFetching(t){return r(this,P).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return r(this,et).findAll({...t,status:"pending"}).length}getQueryData(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=r(this,P).get(e.queryHash))==null?void 0:i.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),i=r(this,P).build(this,e),n=i.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&i.isStaleByTime(ht(e.staleTime,i))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return r(this,P).findAll(t).map(({queryKey:e,state:i})=>{const n=i.data;return[e,n]})}setQueryData(t,e,i){const n=this.defaultQueryOptions({queryKey:t}),a=r(this,P).get(n.queryHash),h=a==null?void 0:a.state.data,u=cs(e,h);if(u!==void 0)return r(this,P).build(this,n).setData(u,{...i,manual:!0})}setQueriesData(t,e,i){return A.batch(()=>r(this,P).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,i)]))}getQueryState(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=r(this,P).get(e.queryHash))==null?void 0:i.state}removeQueries(t){const e=r(this,P);A.batch(()=>{e.findAll(t).forEach(i=>{e.remove(i)})})}resetQueries(t,e){const i=r(this,P);return A.batch(()=>(i.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const i={revert:!0,...e},n=A.batch(()=>r(this,P).findAll(t).map(a=>a.cancel(i)));return Promise.all(n).then(L).catch(L)}invalidateQueries(t,e={}){return A.batch(()=>(r(this,P).findAll(t).forEach(i=>{i.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const i={...e,cancelRefetch:e.cancelRefetch??!0},n=A.batch(()=>r(this,P).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let h=a.fetch(void 0,i);return i.throwOnError||(h=h.catch(L)),a.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(n).then(L)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const i=r(this,P).build(this,e);return i.isStaleByTime(ht(e.staleTime,i))?i.fetch(e):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(L).catch(L)}fetchInfiniteQuery(t){return t.behavior=Qe(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(L).catch(L)}ensureInfiniteQueryData(t){return t.behavior=Qe(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wt.isOnline()?r(this,et).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,P)}getMutationCache(){return r(this,et)}getDefaultOptions(){return r(this,st)}setDefaultOptions(t){o(this,st,t)}setQueryDefaults(t,e){r(this,Dt).set(Ot(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...r(this,Dt).values()],i={};return e.forEach(n=>{kt(t,n.queryKey)&&Object.assign(i,n.defaultOptions)}),i}setMutationDefaults(t,e){r(this,Mt).set(Ot(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...r(this,Mt).values()],i={};return e.forEach(n=>{kt(t,n.mutationKey)&&Object.assign(i,n.defaultOptions)}),i}defaultQueryOptions(t){if(t._defaulted)return t;const e={...r(this,st).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ye(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pe&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...r(this,st).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){r(this,P).clear(),r(this,et).clear()}},P=new WeakMap,et=new WeakMap,st=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,it=new WeakMap,Et=new WeakMap,At=new WeakMap,qe),j,O,_t,T,mt,Ut,rt,nt,Gt,It,qt,vt,bt,at,Tt,C,Kt,ie,re,ne,ae,ue,oe,he,ss,Te,Ss=(Te=class extends jt{constructor(t,e){super();l(this,C);l(this,j);l(this,O);l(this,_t);l(this,T);l(this,mt);l(this,Ut);l(this,rt);l(this,nt);l(this,Gt);l(this,It);l(this,qt);l(this,vt);l(this,bt);l(this,at);l(this,Tt,new Set);this.options=e,o(this,j,t),o(this,nt,null),o(this,rt,se()),this.options.experimental_prefetchInRender||r(this,rt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,O).addObserver(this),Re(r(this,O),this.options)?m(this,C,Kt).call(this):this.updateResult(),m(this,C,ae).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ce(r(this,O),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ce(r(this,O),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,m(this,C,ue).call(this),m(this,C,oe).call(this),r(this,O).removeObserver(this)}setOptions(t){const e=this.options,i=r(this,O);if(this.options=r(this,j).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof N(this.options.enabled,r(this,O))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");m(this,C,he).call(this),r(this,O).setOptions(this.options),e._defaulted&&!zt(this.options,e)&&r(this,j).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,O),observer:this});const n=this.hasListeners();n&&Pe(r(this,O),i,this.options,e)&&m(this,C,Kt).call(this),this.updateResult(),n&&(r(this,O)!==i||N(this.options.enabled,r(this,O))!==N(e.enabled,r(this,O))||ht(this.options.staleTime,r(this,O))!==ht(e.staleTime,r(this,O)))&&m(this,C,ie).call(this);const a=m(this,C,re).call(this);n&&(r(this,O)!==i||N(this.options.enabled,r(this,O))!==N(e.enabled,r(this,O))||a!==r(this,at))&&m(this,C,ne).call(this,a)}getOptimisticResult(t){const e=r(this,j).getQueryCache().build(r(this,j),t),i=this.createResult(e,t);return Ps(this,i)&&(o(this,T,i),o(this,Ut,this.options),o(this,mt,r(this,O).state)),i}getCurrentResult(){return r(this,T)}trackResult(t,e){return new Proxy(t,{get:(i,n)=>(this.trackProp(n),e==null||e(n),Reflect.get(i,n))})}trackProp(t){r(this,Tt).add(t)}getCurrentQuery(){return r(this,O)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=r(this,j).defaultQueryOptions(t),i=r(this,j).getQueryCache().build(r(this,j),e);return i.fetch().then(()=>this.createResult(i,e))}fetch(t){return m(this,C,Kt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,T)))}createResult(t,e){var F;const i=r(this,O),n=this.options,a=r(this,T),h=r(this,mt),u=r(this,Ut),Q=t!==i?t.state:r(this,_t),{state:g}=t;let f={...g},d=!1,c;if(e._optimisticResults){const D=this.hasListeners(),ct=!D&&Re(t,e),Ct=D&&Pe(t,i,e,n);(ct||Ct)&&(f={...f,...Xe(g.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:b}=f;c=f.data;let S=!1;if(e.placeholderData!==void 0&&c===void 0&&b==="pending"){let D;a!=null&&a.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(D=a.data,S=!0):D=typeof e.placeholderData=="function"?e.placeholderData((F=r(this,qt))==null?void 0:F.state.data,r(this,qt)):e.placeholderData,D!==void 0&&(b="success",c=te(a==null?void 0:a.data,D,e),d=!0)}if(e.select&&c!==void 0&&!S)if(a&&c===(h==null?void 0:h.data)&&e.select===r(this,Gt))c=r(this,It);else try{o(this,Gt,e.select),c=e.select(c),c=te(a==null?void 0:a.data,c,e),o(this,It,c),o(this,nt,null)}catch(D){o(this,nt,D)}r(this,nt)&&(w=r(this,nt),c=r(this,It),y=Date.now(),b="error");const M=f.fetchStatus==="fetching",R=b==="pending",E=b==="error",K=R&&M,H=c!==void 0,I={status:b,fetchStatus:f.fetchStatus,isPending:R,isSuccess:b==="success",isError:E,isInitialLoading:K,isLoading:K,data:c,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>Q.dataUpdateCount||f.errorUpdateCount>Q.errorUpdateCount,isFetching:M,isRefetching:M&&!R,isLoadingError:E&&!H,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:E&&H,isStale:ve(t,e),refetch:this.refetch,promise:r(this,rt)};if(this.options.experimental_prefetchInRender){const D=Nt=>{I.status==="error"?Nt.reject(I.error):I.data!==void 0&&Nt.resolve(I.data)},ct=()=>{const Nt=o(this,rt,I.promise=se());D(Nt)},Ct=r(this,rt);switch(Ct.status){case"pending":t.queryHash===i.queryHash&&D(Ct);break;case"fulfilled":(I.status==="error"||I.data!==Ct.value)&&ct();break;case"rejected":(I.status!=="error"||I.error!==Ct.reason)&&ct();break}}return I}updateResult(){const t=r(this,T),e=this.createResult(r(this,O),this.options);if(o(this,mt,r(this,O).state),o(this,Ut,this.options),r(this,mt).data!==void 0&&o(this,qt,r(this,O)),zt(e,t))return;o(this,T,e);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!r(this,Tt).size)return!0;const h=new Set(a??r(this,Tt));return this.options.throwOnError&&h.add("error"),Object.keys(r(this,T)).some(u=>{const p=u;return r(this,T)[p]!==t[p]&&h.has(p)})};m(this,C,ss).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&m(this,C,ae).call(this)}},j=new WeakMap,O=new WeakMap,_t=new WeakMap,T=new WeakMap,mt=new WeakMap,Ut=new WeakMap,rt=new WeakMap,nt=new WeakMap,Gt=new WeakMap,It=new WeakMap,qt=new WeakMap,vt=new WeakMap,bt=new WeakMap,at=new WeakMap,Tt=new WeakMap,C=new WeakSet,Kt=function(t){m(this,C,he).call(this);let e=r(this,O).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(L)),e},ie=function(){m(this,C,ue).call(this);const t=ht(this.options.staleTime,r(this,O));if(gt||r(this,T).isStale||!Xt(t))return;const i=$e(r(this,T).dataUpdatedAt,t)+1;o(this,vt,setTimeout(()=>{r(this,T).isStale||this.updateResult()},i))},re=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,O)):this.options.refetchInterval)??!1},ne=function(t){m(this,C,oe).call(this),o(this,at,t),!(gt||N(this.options.enabled,r(this,O))===!1||!Xt(r(this,at))||r(this,at)===0)&&o(this,bt,setInterval(()=>{(this.options.refetchIntervalInBackground||me.isFocused())&&m(this,C,Kt).call(this)},r(this,at)))},ae=function(){m(this,C,ie).call(this),m(this,C,ne).call(this,m(this,C,re).call(this))},ue=function(){r(this,vt)&&(clearTimeout(r(this,vt)),o(this,vt,void 0))},oe=function(){r(this,bt)&&(clearInterval(r(this,bt)),o(this,bt,void 0))},he=function(){const t=r(this,j).getQueryCache().build(r(this,j),this.options);if(t===r(this,O))return;const e=r(this,O);o(this,O,t),o(this,_t,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},ss=function(t){A.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(r(this,T))}),r(this,j).getQueryCache().notify({query:r(this,O),type:"observerResultsUpdated"})})},Te);function Rs(s,t){return N(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Re(s,t){return Rs(s,t)||s.state.data!==void 0&&ce(s,t,t.refetchOnMount)}function ce(s,t,e){if(N(t.enabled,s)!==!1&&ht(t.staleTime,s)!=="static"){const i=typeof e=="function"?e(s):e;return i==="always"||i!==!1&&ve(s,t)}return!1}function Pe(s,t,e,i){return(s!==t||N(i.enabled,s)===!1)&&(!e.suspense||s.state.status!=="error")&&ve(s,e)}function ve(s,t){return N(t.enabled,s)!==!1&&s.isStaleByTime(ht(t.staleTime,s))}function Ps(s,t){return!zt(s.getCurrentResult(),t)}var ut,ot,x,Y,J,Vt,le,je,Fs=(je=class extends jt{constructor(t,e){super();l(this,J);l(this,ut);l(this,ot);l(this,x);l(this,Y);o(this,ut,t),this.setOptions(e),this.bindMethods(),m(this,J,Vt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const e=this.options;this.options=r(this,ut).defaultMutationOptions(t),zt(this.options,e)||r(this,ut).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,x),observer:this}),e!=null&&e.mutationKey&&this.options.mutationKey&&Ot(e.mutationKey)!==Ot(this.options.mutationKey)?this.reset():((i=r(this,x))==null?void 0:i.state.status)==="pending"&&r(this,x).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=r(this,x))==null||t.removeObserver(this)}onMutationUpdate(t){m(this,J,Vt).call(this),m(this,J,le).call(this,t)}getCurrentResult(){return r(this,ot)}reset(){var t;(t=r(this,x))==null||t.removeObserver(this),o(this,x,void 0),m(this,J,Vt).call(this),m(this,J,le).call(this)}mutate(t,e){var i;return o(this,Y,e),(i=r(this,x))==null||i.removeObserver(this),o(this,x,r(this,ut).getMutationCache().build(r(this,ut),this.options)),r(this,x).addObserver(this),r(this,x).execute(t)}},ut=new WeakMap,ot=new WeakMap,x=new WeakMap,Y=new WeakMap,J=new WeakSet,Vt=function(){var e;const t=((e=r(this,x))==null?void 0:e.state)??ts();o(this,ot,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},le=function(t){A.batch(()=>{var e,i,n,a,h,u,p,Q;if(r(this,Y)&&this.hasListeners()){const g=r(this,ot).variables,f=r(this,ot).context;(t==null?void 0:t.type)==="success"?((i=(e=r(this,Y)).onSuccess)==null||i.call(e,t.data,g,f),(a=(n=r(this,Y)).onSettled)==null||a.call(n,t.data,null,g,f)):(t==null?void 0:t.type)==="error"&&((u=(h=r(this,Y)).onError)==null||u.call(h,t.error,g,f),(Q=(p=r(this,Y)).onSettled)==null||Q.call(p,void 0,t.error,g,f))}this.listeners.forEach(g=>{g(r(this,ot))})})},je),Ds="VUE_QUERY_CLIENT";function is(s){const t=s?`:${s}`:"";return`${Ds}${t}`}function fe(s,t){Object.keys(s).forEach(e=>{s[e]=t[e]})}function de(s,t,e="",i=0){if(t){const n=t(s,e,i);if(n===void 0&&xe(s)||n!==void 0)return n}if(Array.isArray(s))return s.map((n,a)=>de(n,t,String(a),i+1));if(typeof s=="object"&&Es(s)){const n=Object.entries(s).map(([a,h])=>[a,de(h,t,a,i+1)]);return Object.fromEntries(n)}return s}function Ms(s,t){return de(s,t)}function v(s,t=!1){return Ms(s,(e,i,n)=>{if(n===1&&i==="queryKey")return v(e,!0);if(t&&As(e))return v(e(),t);if(xe(e))return v(ns(e),t)})}function Es(s){if(Object.prototype.toString.call(s)!=="[object Object]")return!1;const t=Object.getPrototypeOf(s);return t===null||t===Object.prototype}function As(s){return typeof s=="function"}function rs(s=""){if(!as())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=is(s),e=us(t);if(!e)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return e}var Us=class extends Ze{find(s){return super.find(v(s))}findAll(s={}){return super.findAll(v(s))}},Is=class extends es{find(s){return super.find(v(s))}findAll(s={}){return super.findAll(v(s))}},qs=class extends Qs{constructor(s={}){const t={defaultOptions:s.defaultOptions,queryCache:s.queryCache||new Us,mutationCache:s.mutationCache||new Is};super(t),this.isRestoring=os(!1)}isFetching(s={}){return super.isFetching(v(s))}isMutating(s={}){return super.isMutating(v(s))}getQueryData(s){return super.getQueryData(v(s))}ensureQueryData(s){return super.ensureQueryData(v(s))}getQueriesData(s){return super.getQueriesData(v(s))}setQueryData(s,t,e={}){return super.setQueryData(v(s),t,v(e))}setQueriesData(s,t,e={}){return super.setQueriesData(v(s),t,v(e))}getQueryState(s){return super.getQueryState(v(s))}removeQueries(s={}){return super.removeQueries(v(s))}resetQueries(s={},t={}){return super.resetQueries(v(s),v(t))}cancelQueries(s={},t={}){return super.cancelQueries(v(s),v(t))}invalidateQueries(s={},t={}){const e=v(s),i=v(t);if(super.invalidateQueries({...e,refetchType:"none"},i),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return hs().then(()=>super.refetchQueries(n,i))}refetchQueries(s={},t={}){return super.refetchQueries(v(s),v(t))}fetchQuery(s){return super.fetchQuery(v(s))}prefetchQuery(s){return super.prefetchQuery(v(s))}fetchInfiniteQuery(s){return super.fetchInfiniteQuery(v(s))}prefetchInfiniteQuery(s){return super.prefetchInfiniteQuery(v(s))}setDefaultOptions(s){super.setDefaultOptions(v(s))}setQueryDefaults(s,t){super.setQueryDefaults(v(s),v(t))}getQueryDefaults(s){return super.getQueryDefaults(v(s))}setMutationDefaults(s,t){super.setMutationDefaults(v(s),v(t))}getMutationDefaults(s){return super.getMutationDefaults(v(s))}},_s={install:(s,t={})=>{const e=is(t.queryClientKey);let i;if("queryClient"in t&&t.queryClient)i=t.queryClient;else{const h="queryClientConfig"in t?t.queryClientConfig:void 0;i=new qs(h)}gt||i.mount();let n=()=>{};if(t.clientPersister){i.isRestoring.value=!0;const[h,u]=t.clientPersister(i);n=h,u.then(()=>{var p;i.isRestoring.value=!1,(p=t.clientPersisterOnSuccess)==null||p.call(t,i)})}const a=()=>{i.unmount(),n()};if(s.onUnmount)s.onUnmount(a);else{const h=s.unmount;s.unmount=function(){a(),h()}}s.provide(e,i)}};function Ts(s,t,e){const i=rs(),n=Ke(()=>{const c=v(t);typeof c.enabled=="function"&&(c.enabled=c.enabled());const w=i.defaultQueryOptions(c);return w._optimisticResults=i.isRestoring.value?"isRestoring":"optimistic",w}),a=new s(i,n.value),h=n.value.shallow?ke(a.getCurrentResult()):Le(a.getCurrentResult());let u=()=>{};wt(i.isRestoring,c=>{c||(u(),u=a.subscribe(w=>{fe(h,w)}))},{immediate:!0});const p=()=>{a.setOptions(n.value),fe(h,a.getCurrentResult())};wt(n,p),He(()=>{u()});const Q=(...c)=>(p(),h.refetch(...c)),g=()=>new Promise((c,w)=>{let y=()=>{};const b=()=>{if(n.value.enabled!==!1){a.setOptions(n.value);const S=a.getOptimisticResult(n.value);S.isStale?(y(),a.fetchOptimistic(n.value).then(c,M=>{ee(n.value.throwOnError,[M,a.getCurrentQuery()])?w(M):c(a.getCurrentResult())})):(y(),c(S))}};b(),y=wt(n,b)});wt(()=>h.error,c=>{if(h.isError&&!h.isFetching&&ee(n.value.throwOnError,[c,a.getCurrentQuery()]))throw c});const f=n.value.shallow?_e(h):Ge(h),d=Ne(f);for(const c in h)typeof h[c]=="function"&&(d[c]=h[c]);return d.suspense=g,d.refetch=Q,d}function Gs(s,t){return Ts(Ss,s)}function Ns(s,t){const e=rs(),i=Ke(()=>e.defaultMutationOptions(v(s))),n=new Fs(e,i.value),a=i.value.shallow?ke(n.getCurrentResult()):Le(n.getCurrentResult()),h=n.subscribe(g=>{fe(a,g)}),u=(g,f)=>{n.mutate(g,f).catch(()=>{})};wt(i,()=>{n.setOptions(i.value)}),He(()=>{h()});const p=i.value.shallow?_e(a):Ge(a),Q=Ne(p);return wt(()=>a.error,g=>{if(g&&ee(i.value.throwOnError,[g]))throw g}),{...Q,mutate:u,mutateAsync:a.mutate,reset:a.reset}}export{_s as V,rs as a,Ns as b,Ks as k,Gs as u};
