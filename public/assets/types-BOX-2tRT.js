import{y as o,z as u,A as c,B as l}from"./index-7bbMbo5P.js";import{a4 as p,I as d,a5 as r}from"./vue-Sv2pE2s2.js";function f(e){return{...e,startTime:new Date(e.startTime),endTime:new Date(e.endTime),confirmedAt:e.confirmedAt?new Date(e.confirmedAt):null,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}}function m(e){return e.reduce((t,n)=>(t[n]=!0,t),{})}async function y(e){const t=o.profiles.stats.replace("{id}",String(e));return(await u.get(t)).data}async function A(e,t,n=[]){const a=o.profiles.reservations.list.replace("{id}",e.toString()),s={profile:!0,...m(n)};return t!==void 0&&(s.inWeekOf=p(t,"YYYY-MM-DD")),(await u.get(a,{params:s})).data.map(f)}async function w(e,t){const n=o.profiles.avatar.replace("{id}",String(e)),a=new FormData;a.append("image",t),await u.post(n,a,{headers:{"Content-Type":"multipart/form-data"}})}async function D(e){const t=o.profiles.avatar.replace("{id}",String(e));await u.delete(t)}function T(e){const t=d(()=>r(e)!==null);return c({queryKey:["profile","stats",e],queryFn:()=>{const a=r(e);return y(a)},enabled:t})}function b(e,t=new Date){const n=d(()=>r(e)!==null);return c({queryKey:["profile","reservations",e,t],enabled:n,queryFn:()=>{const s=r(e),i=r(t);return A(s,i,["location","openingTime"])}})}function C(e={}){return l({...e,mutationFn:async({profileId:n,file:a})=>{await w(n,a)}})}function F(e={}){return l({...e,mutationFn:D})}var g=(e=>(e.Created="Created",e.Absent="Absent",e.Present="Present",e.Cancelled="Cancelled",e))(g||{});export{g as R,F as a,b,T as c,C as u};
