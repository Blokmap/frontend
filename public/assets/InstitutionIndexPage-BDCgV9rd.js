import{a as B,l as F}from"./primevue-Ex1kWbwE.js";import{_ as N}from"./ActionMenu.vue_vue_type_script_setup_true_lang-D8x-0TcO.js";import{T as j,b8 as z,b7 as R,F as T,e as U,b4 as E,b5 as G,aC as H}from"./index-BH2d3-5Q.js";import{L as x,l as h,p as e,e as p,c as l,F as A,A as M,f as Q,i as Y,d as r,y as i,Y as o,t as a,h as b,q as k,r as L,H as Z,ae as J}from"./vue-Ch5H8NcK.js";import{a as K,T as f}from"./TableCell-DEbrUqoT.js";import{_ as O,a as W}from"./SearchField.vue_vue_type_script_setup_true_lang-CwsDVBBU.js";import{D as X}from"./DashboardContent-C7GZlxZW.js";import{_ as tt,D as ot}from"./DashboardPageHeader-DlEF0Y-P.js";import{u as et}from"./useInstitutions-Czrf_pHc.js";import"@primeuix/styled";import"@primeuix/utils";import"@primeuix/utils/object";import"@primeuix/styles/base";import"@primeuix/utils/dom";import"@primeuix/utils/zindex";import"@primeuix/styles/toast";import"@primeuix/styles/accordion";import"@primeuix/utils/uuid";import"@primeuix/styles/chip";import"@primeuix/styles/autocomplete";import"@primeuix/styles/avatar";import"@primeuix/styles/blockui";import"@primeuix/styles/breadcrumb";import"@primeuix/styles/buttongroup";import"@primeuix/styles/datepicker";import"@primeuix/styles/card";import"@primeuix/styles/carousel";import"@primeuix/styles/cascadeselect";import"@primeuix/styles/checkbox";import"@primeuix/styles/checkboxgroup";import"@primeuix/styles/inputchips";import"@primeuix/styles/colorpicker";import"@primeuix/utils/eventbus";import"@primeuix/styles/dialog";import"@primeuix/styles/confirmdialog";import"@primeuix/styles/confirmpopup";import"@primeuix/styles/contextmenu";import"@primeuix/styles/paginator";import"@primeuix/styles/iconfield";import"@primeuix/styles/inputtext";import"@primeuix/styles/virtualscroller";import"@primeuix/styles/select";import"@primeuix/styles/inputnumber";import"@primeuix/styles/datatable";import"@primeuix/styles/radiobutton";import"@primeuix/styles/dataview";import"@primeuix/styles/divider";import"@primeuix/styles/dock";import"@primeuix/styles/tooltip";import"@primeuix/styles/drawer";import"@primeuix/styles/fieldset";import"@primeuix/styles/badge";import"@primeuix/styles/button";import"@primeuix/styles/message";import"@primeuix/styles/progressbar";import"@primeuix/styles/fileupload";import"@primeuix/styles/floatlabel";import"@primeuix/styles/galleria";import"@primeuix/styles/iftalabel";import"@primeuix/styles/image";import"@primeuix/styles/imagecompare";import"@primeuix/styles/inlinemessage";import"@primeuix/styles/inplace";import"@primeuix/styles/inputgroup";import"@primeuix/styles/inputotp";import"@primeuix/styles/toggleswitch";import"@primeuix/styles/knob";import"@primeuix/styles/listbox";import"@primeuix/styles/megamenu";import"@primeuix/styles/menu";import"@primeuix/styles/menubar";import"@primeuix/styles/metergroup";import"@primeuix/styles/multiselect";import"@primeuix/styles/orderlist";import"@primeuix/styles/organizationchart";import"@primeuix/styles/overlaybadge";import"@primeuix/styles/popover";import"@primeuix/styles/panel";import"@primeuix/styles/panelmenu";import"@primeuix/styles/password";import"@primeuix/styles/picklist";import"@primeuix/styles/progressspinner";import"@primeuix/styles/radiobuttongroup";import"@primeuix/styles/rating";import"@primeuix/styles/scrollpanel";import"@primeuix/styles/scrolltop";import"@primeuix/styles/togglebutton";import"@primeuix/styles/selectbutton";import"@primeuix/styles/skeleton";import"@primeuix/styles/slider";import"@primeuix/styles/speeddial";import"@primeuix/styles/tieredmenu";import"@primeuix/styles/splitbutton";import"@primeuix/styles/splitter";import"@primeuix/styles/stepper";import"@primeuix/styles/steps";import"@primeuix/styles/ripple";import"@primeuix/styles/tabmenu";import"@primeuix/styles/tabs";import"@primeuix/styles/tabview";import"@primeuix/styles/tag";import"@primeuix/styles/terminal";import"@primeuix/styles/textarea";import"@primeuix/styles/timeline";import"@primeuix/styles/toolbar";import"@primeuix/styles/tree";import"@primeuix/styles/treeselect";import"@primeuix/styles/treetable";const it={class:"space-y-1"},rt=x({__name:"InstitutionActionsMenu",props:{institution:{},isPending:{type:Boolean}},setup(d){const m=d,n=[{label:"Gebruikers bekijken",icon:j,to:{name:"dashboard.profiles.index",query:{institutionSlug:m.institution.slug}}},{label:"Autoriteiten bekijken",icon:z,to:{name:"dashboard.authorities.index",query:{institutionSlug:m.institution.slug}}},{label:"Locaties bekijken",icon:R,to:{name:"dashboard.locations.index",query:{institutionSlug:m.institution.slug}}}];return(_,g)=>{const c=Y("RouterLink");return r(),h(N,{"is-pending":d.isPending},{trigger:e(({toggle:s})=>[Q(_.$slots,"trigger",{toggle:s})]),content:e(({hideMenu:s})=>[p("div",it,[(r(),l(A,null,M(n,t=>i(c,{key:t.label,to:t.to,class:"flex w-full items-center gap-3 rounded-md px-2 py-1 text-sm text-slate-700 transition-colors hover:bg-slate-100",onClick:s},{default:e(()=>[i(o(T),{icon:t.icon,class:"text-slate-700"},null,8,["icon"]),p("span",null,a(t.label),1)]),_:2},1032,["to","onClick"])),64))])]),_:3},8,["is-pending"])}}}),nt={class:"flex items-center space-x-3"},st={class:"min-w-0 flex-1"},at={class:"truncate text-sm font-medium text-slate-900"},mt={class:"truncate text-xs text-slate-500"},pt={key:0,class:"text-sm"},lt={key:0},ct={key:0},ut={key:1},dt={key:1,class:"text-slate-500"},_t={key:1},gt=x({__name:"InstitutionTable",props:{institutions:{},loading:{type:Boolean}},emits:["click:institution"],setup(d,{emit:m}){const n=m,{locale:_}=U(),g=c=>{n("click:institution",c)};return(c,s)=>(r(),h(K,{value:d.institutions,"onClick:row":g},{row:e(({data:t})=>[i(f,{column:"Institutie"},{default:e(()=>[p("div",nt,[s[0]||(s[0]=p("div",{class:"h-12 w-12 flex-shrink-0"},null,-1)),p("div",st,[p("div",at,a(t.name[o(_)]),1),p("div",mt,a(t.slug),1)])])]),_:2},1024),i(f,{column:"E-mailadres"},{default:e(()=>[b(a(t.email||"-"),1)]),_:2},1024),i(f,{column:"Telefoon"},{default:e(()=>[b(a(t.phone||"-"),1)]),_:2},1024),i(f,{column:"Locatie"},{default:e(()=>[t.city||t.province?(r(),l("div",pt,[t.street?(r(),l("div",lt,a(t.street),1)):k("",!0),p("div",null,[t.zip?(r(),l("span",ct,a(t.zip),1)):k("",!0),t.city?(r(),l("span",ut,a(t.zip?" ":"")+a(t.city),1)):k("",!0)]),t.province?(r(),l("div",dt,a(t.province),1)):k("",!0)])):(r(),l("span",_t,"-"))]),_:2},1024),i(f,{column:"Acties"},{default:e(()=>[i(rt,{institution:t},null,8,["institution"])]),_:2},1024)]),_:1},8,["value"]))}}),ke=x({__name:"InstitutionIndexPage",props:{profile:{}},setup(d){const m=L({query:"",page:1,perPage:25}),{data:n,isFetching:_,isLoading:g}=et(m),{data:c}=E(),s=L(""),t=Z(()=>{var u;return`Alle Instituties (${G((u=c.value)==null?void 0:u.institutionCount)??"..."})`}),D=J(()=>{m.value.query=s.value},300),S=u=>{m.value.page=u.page+1},V=u=>{console.log("Institution clicked:",u)},q=()=>{console.log("Create institution clicked")};return(u,y)=>(r(),h(X,null,{default:e(()=>{var C,I,w;return[o(g)?(r(),h(tt,{key:0})):(r(),l(A,{key:1},[i(ot,{title:t.value},{actions:e(()=>[i(o(B),{severity:"secondary",onClick:q},{default:e(()=>[i(o(T),{icon:o(H)},null,8,["icon"]),y[1]||(y[1]=b(" Nieuwe Institutie ",-1))]),_:1})]),metadata:e(()=>{var v,$,P;return[i(W,{"current-count":(v=o(n))==null?void 0:v.data.length,"total-count":($=o(n))==null?void 0:$.total,truncated:(P=o(n))==null?void 0:P.truncated,"empty-message":"Geen instituties gevonden."},null,8,["current-count","total-count","truncated"])]}),filters:e(()=>[i(O,{modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=v=>s.value=v),placeholder:"Zoek door alle instellingen...",loading:o(_),onInput:o(D)},null,8,["modelValue","loading","onInput"])]),_:1},8,["title"]),i(gt,{institutions:(C=o(n))==null?void 0:C.data,loading:o(g),"onClick:institution":V},null,8,["institutions","loading"]),(I=o(n))!=null&&I.data.length?(r(),h(o(F),{key:0,"total-records":((w=o(c))==null?void 0:w.institutionCount)??0,rows:o(n).perPage,onPage:S},null,8,["total-records","rows"])):k("",!0)],64))]}),_:1}))}});export{ke as default};
