import{u as V,_ as x,a as N}from"./auth-C2paokAX.js";import{P as _,r as $,c,d as l,x as t,l as i,J as e,a7 as C,F as v,z as R,b as f,k,f as w}from"./vue-Cs7Q816V.js";import{F,e as L,u as U,h as q,k as I}from"./index-z6GxQ8Mb.js";import{i as n,r as u,s as y,l as P}from"./primevue-BjZ91XHy.js";import"./query-D-ajdwyw.js";const S={class:"grid grid-cols-2 gap-3"},B={class:"grid grid-cols-1 gap-3"},A={class:"grid grid-cols-2 gap-3"},E={class:"grid grid-cols-1 gap-3 my-4"},M=["src","alt"],j=_({__name:"RegisterForm",props:{idps:{},error:{},isLoading:{type:Boolean}},emits:["submit"],setup(b,{emit:d}){const p=d,o=$({firstName:"",lastName:"",email:"",username:"",password:"",passwordConfirmation:""});function g(){p("submit",o.value)}return(m,s)=>(f(),c(v,null,[l("form",{class:"space-y-3 my-6",onSubmit:C(g,["prevent"])},[l("div",S,[t(e(u),{variant:"on"},{default:i(()=>[s[6]||(s[6]=l("label",{for:"first-name"},"First Name",-1)),t(e(n),{modelValue:o.value.firstName,"onUpdate:modelValue":s[0]||(s[0]=a=>o.value.firstName=a),id:"first-name",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[6]}),t(e(u),{variant:"on"},{default:i(()=>[s[7]||(s[7]=l("label",{for:"last-name"},"Last Name",-1)),t(e(n),{modelValue:o.value.lastName,"onUpdate:modelValue":s[1]||(s[1]=a=>o.value.lastName=a),id:"last-name",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[7]})]),l("div",B,[t(e(u),{variant:"on"},{default:i(()=>[s[8]||(s[8]=l("label",{for:"email"},"Email",-1)),t(e(n),{modelValue:o.value.email,"onUpdate:modelValue":s[2]||(s[2]=a=>o.value.email=a),id:"email",type:"email",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[8]}),t(e(u),{variant:"on"},{default:i(()=>[s[9]||(s[9]=l("label",{for:"username"},"Username",-1)),t(e(n),{modelValue:o.value.username,"onUpdate:modelValue":s[3]||(s[3]=a=>o.value.username=a),id:"username",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[9]})]),l("div",A,[t(e(u),{variant:"on"},{default:i(()=>[s[10]||(s[10]=l("label",{for:"password"},"Password",-1)),t(e(n),{modelValue:o.value.password,"onUpdate:modelValue":s[4]||(s[4]=a=>o.value.password=a),id:"password",type:"password",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[10]}),t(e(u),{variant:"on"},{default:i(()=>[s[11]||(s[11]=l("label",{for:"confirm-password"},"Confirm Password",-1)),t(e(n),{modelValue:o.value.passwordConfirmation,"onUpdate:modelValue":s[5]||(s[5]=a=>o.value.passwordConfirmation=a),id:"confirm-password",type:"password",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[11]})]),t(e(y),{class:"w-full mt-3",label:"Continue with email",severity:"primary",type:"submit",loading:m.isLoading},{icon:i(()=>[t(e(F),{icon:e(L)},null,8,["icon"])]),_:1},8,["loading"])],32),l("div",E,[(f(!0),c(v,null,R(m.idps,a=>(f(),k(e(y),{key:a.name,class:"w-full",severity:"secondary",label:`Continue with ${a.name}`},{icon:i(()=>[l("img",{src:a.logo,alt:a.name,class:"w-5 h-5 object-contain"},null,8,M)]),_:2},1032,["label"]))),128))])],64))}}),z={class:"flex items-start gap-8"},J={class:"basis-3/5"},O={class:"basis-2/5"},H=_({__name:"RegisterPage",setup(b){U();const{showMessage:d}=q(),{data:p,isLoading:o}=V(),{register:g,registerIsLoading:m,registerError:s}=I({onError:a=>{var r;d({severity:"error",summary:"An error occurred",detail:(r=a.response)==null?void 0:r.data})},onSuccess:()=>{d({severity:"success",summary:"Registration Successful",detail:"You have successfully registered. Please check your email for further instructions."})}});return(a,r)=>(f(),c("div",z,[l("div",J,[r[0]||(r[0]=l("h2",{class:"text-xl font-semibold text-color my-6"},[l("span",{class:"text-secondary font-bold"},"Register"),w(" through your institution ")],-1)),t(x,{institutions:e(p),"is-loading":e(o)},null,8,["institutions","is-loading"])]),t(e(P),{layout:"vertical",align:"center",class:"self-stretch mx-0"},{default:i(()=>r[1]||(r[1]=[l("span",{class:"text-sm font-bold"},"OR",-1)])),_:1,__:[1]}),l("div",O,[r[2]||(r[2]=l("h2",{class:"text-xl font-semibold text-color my-6"},[l("span",{class:"text-secondary font-bold"},"Register"),w(" without institution ")],-1)),t(j,{onSubmit:e(g),idps:e(N),"is-loading":e(m),error:e(s)},null,8,["onSubmit","idps","is-loading","error"])])]))}});export{H as default};
