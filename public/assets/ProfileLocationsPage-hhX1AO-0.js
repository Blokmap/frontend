import{a as x}from"./primevue-Ex1kWbwE.js";import{L as E,a as F}from"./LocationDataList-DKNPPeRF.js";import{D as R}from"./DashboardContent-C7GZlxZW.js";import{_ as $,D as H}from"./DashboardPageHeader-DlEF0Y-P.js";import{_ as T}from"./DashboardNotFound.vue_vue_type_script_setup_true_lang-CNi6UBhB.js";import{u as V,b9 as A,b2 as G,F as M,aC as z}from"./index-BH2d3-5Q.js";import{h as U,i as Y}from"./useProfile-CIG-owsL.js";import{L as q,H as t,ag as J,l as c,p as m,c as K,y as r,I as O,i as Q,Y as s,h as W,F as X,d as n}from"./vue-Ch5H8NcK.js";import"@primeuix/styled";import"@primeuix/utils";import"@primeuix/utils/object";import"@primeuix/styles/base";import"@primeuix/utils/dom";import"@primeuix/utils/zindex";import"@primeuix/styles/toast";import"@primeuix/styles/accordion";import"@primeuix/utils/uuid";import"@primeuix/styles/chip";import"@primeuix/styles/autocomplete";import"@primeuix/styles/avatar";import"@primeuix/styles/blockui";import"@primeuix/styles/breadcrumb";import"@primeuix/styles/buttongroup";import"@primeuix/styles/datepicker";import"@primeuix/styles/card";import"@primeuix/styles/carousel";import"@primeuix/styles/cascadeselect";import"@primeuix/styles/checkbox";import"@primeuix/styles/checkboxgroup";import"@primeuix/styles/inputchips";import"@primeuix/styles/colorpicker";import"@primeuix/utils/eventbus";import"@primeuix/styles/dialog";import"@primeuix/styles/confirmdialog";import"@primeuix/styles/confirmpopup";import"@primeuix/styles/contextmenu";import"@primeuix/styles/paginator";import"@primeuix/styles/iconfield";import"@primeuix/styles/inputtext";import"@primeuix/styles/virtualscroller";import"@primeuix/styles/select";import"@primeuix/styles/inputnumber";import"@primeuix/styles/datatable";import"@primeuix/styles/radiobutton";import"@primeuix/styles/dataview";import"@primeuix/styles/divider";import"@primeuix/styles/dock";import"@primeuix/styles/tooltip";import"@primeuix/styles/drawer";import"@primeuix/styles/fieldset";import"@primeuix/styles/badge";import"@primeuix/styles/button";import"@primeuix/styles/message";import"@primeuix/styles/progressbar";import"@primeuix/styles/fileupload";import"@primeuix/styles/floatlabel";import"@primeuix/styles/galleria";import"@primeuix/styles/iftalabel";import"@primeuix/styles/image";import"@primeuix/styles/imagecompare";import"@primeuix/styles/inlinemessage";import"@primeuix/styles/inplace";import"@primeuix/styles/inputgroup";import"@primeuix/styles/inputotp";import"@primeuix/styles/toggleswitch";import"@primeuix/styles/knob";import"@primeuix/styles/listbox";import"@primeuix/styles/megamenu";import"@primeuix/styles/menu";import"@primeuix/styles/menubar";import"@primeuix/styles/metergroup";import"@primeuix/styles/multiselect";import"@primeuix/styles/orderlist";import"@primeuix/styles/organizationchart";import"@primeuix/styles/overlaybadge";import"@primeuix/styles/popover";import"@primeuix/styles/panel";import"@primeuix/styles/panelmenu";import"@primeuix/styles/password";import"@primeuix/styles/picklist";import"@primeuix/styles/progressspinner";import"@primeuix/styles/radiobuttongroup";import"@primeuix/styles/rating";import"@primeuix/styles/scrollpanel";import"@primeuix/styles/scrolltop";import"@primeuix/styles/togglebutton";import"@primeuix/styles/selectbutton";import"@primeuix/styles/skeleton";import"@primeuix/styles/slider";import"@primeuix/styles/speeddial";import"@primeuix/styles/tieredmenu";import"@primeuix/styles/splitbutton";import"@primeuix/styles/splitter";import"@primeuix/styles/stepper";import"@primeuix/styles/steps";import"@primeuix/styles/ripple";import"@primeuix/styles/tabmenu";import"@primeuix/styles/tabs";import"@primeuix/styles/tabview";import"@primeuix/styles/tag";import"@primeuix/styles/terminal";import"@primeuix/styles/textarea";import"@primeuix/styles/timeline";import"@primeuix/styles/toolbar";import"@primeuix/styles/tree";import"@primeuix/styles/treeselect";import"@primeuix/styles/treetable";import"./helpers-CQSRa6mq.js";import"./ActionMenu.vue_vue_type_script_setup_true_lang-D8x-0TcO.js";import"./NavigationLink-IHA51wPx.js";const ii=q({__name:"ProfileLocationsPage",props:{profile:{},profileId:{}},setup(u){const e=u,b=V(),d=A(),i=t(()=>+e.profileId||e.profile.id),a=t(()=>i.value!==e.profile.id),{data:v,isLoading:L,isError:g}=U(i,{enabled:a}),{data:h,refetch:P,isLoading:_}=Y(i),{mutateAsync:k,isPending:y,variables:w}=G({onSuccess:()=>{P()}}),l=t(()=>a.value?v.value:e.profile),I=t(()=>a.value&&L.value),D=t(()=>a.value&&g.value),B=t(()=>I.value||_.value),C=t(()=>i.value===e.profile.id?"Mijn Locaties":l.value?`Locaties van ${l.value.firstName} ${l.value.lastName}`:"Locaties");function N(p){var o;return y.value&&((o=w.value)==null?void 0:o.locationId)===p}async function S(p,o){await k({locationId:p,state:o}),b.add({severity:"success",summary:"Status Bijgewerkt",detail:"Locatiestatus werd succesvol bijgewerkt!"})}return J(()=>{a.value?d.setBreadcrumbs([{label:"Dashboard",to:{name:"dashboard"}},{label:"Gebruikers",to:{name:"profile"}},{label:"Locaties",to:{name:"dashboard.profiles.locations",params:{profileId:i.value}}}]):d.setBreadcrumbs([{label:"Dashboard",to:{name:"dashboard"}},{label:"Mijn Profiel",to:{name:"profile"}},{label:"Locaties",to:{name:"dashboard.profiles.locations"}}])}),(p,o)=>{const j=Q("RouterLink");return n(),c(R,null,{default:m(()=>[B.value?(n(),c($,{key:0})):D.value?(n(),c(T,{key:1,title:"Profiel Niet Gevonden",message:"Het profiel dat je zoekt bestaat niet of je hebt geen toegang."})):(n(),K(X,{key:2},[r(H,{title:C.value},O({_:2},[i.value===u.profile.id?{name:"actions",fn:m(()=>[r(j,{to:{name:"locations.submit"}},{default:m(()=>[r(s(x),{severity:"secondary"},{default:m(()=>[r(s(M),{icon:s(z)},null,8,["icon"]),o[0]||(o[0]=W(" Nieuwe Locatie ",-1))]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["title"]),r(F,{locations:s(h),loading:!1},{item:m(({location:f})=>[r(E,{location:f,"action-is-pending":N(f.id),"show-status-change":!0,"onChange:state":S},null,8,["location","action-is-pending"])]),_:1},8,["locations"])],64))]),_:1})}}});export{ii as default};
