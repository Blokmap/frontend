import{u as h,I as S,a as V}from"./auth-vXzGgECg.js";import{K as L,r as I,c as p,F as _,d as o,I as F,x as t,O as s,l as a,z as k,b as c,k as B,f as m}from"./vue-C1ZH04E9.js";import{F as q,i as A,j as E,k as P,l as j,m as M}from"./index-CJPmhKFB.js";import{m as v,a as y,i as w,n as N}from"./primevue-Boa-rGZU.js";import{_ as b}from"./GradientText.vue_vue_type_script_setup_true_lang-CiRSbHOt.js";const R={class:"grid grid-cols-1"},U={class:"grid grid-cols-1"},z={class:"my-4 grid grid-cols-1 gap-3"},C=["src","alt"],O=L({__name:"LoginForm",props:{idps:{},error:{},isLoading:{type:Boolean}},emits:["submit"],setup(x,{emit:l}){const u=l,r=I({username:"",password:""});function g(){u("submit",r.value)}return(d,i)=>(c(),p(_,null,[o("form",{class:"my-6 space-y-3",onSubmit:F(g,["prevent"])},[o("div",R,[t(s(v),{variant:"on"},{default:a(()=>[i[2]||(i[2]=o("label",{for:"username"},"Username or Email",-1)),t(s(w),{modelValue:r.value.username,"onUpdate:modelValue":i[0]||(i[0]=n=>r.value.username=n),id:"username",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[2]})]),o("div",U,[t(s(v),{variant:"on"},{default:a(()=>[i[3]||(i[3]=o("label",{for:"password"},"Password",-1)),t(s(w),{modelValue:r.value.password,"onUpdate:modelValue":i[1]||(i[1]=n=>r.value.password=n),id:"password",type:"password",class:"w-full",required:""},null,8,["modelValue"])]),_:1,__:[3]})]),t(s(y),{class:"mt-3 w-full",label:"Log in with email",severity:"primary",type:"submit",loading:d.isLoading},{icon:a(()=>[t(s(q),{icon:s(A)},null,8,["icon"])]),_:1},8,["loading"])],32),o("div",z,[(c(!0),p(_,null,k(d.idps,n=>(c(),B(s(y),{key:n.name,class:"w-full",severity:"contrast",label:`Log in with ${n.name}`},{icon:a(()=>[o("img",{src:n.logo,alt:n.name,class:"h-5 w-5 object-contain"},null,8,C)]),_:2},1032,["label"]))),128))])],64))}}),K={class:"flex items-start gap-8"},T={class:"basis-3/5"},D={class:"text-color my-6 text-xl font-semibold"},G={class:"basis-2/5"},H={class:"text-color my-6 text-xl font-semibold"},Z=L({__name:"LoginPage",setup(x){const{showMessage:l}=E(),u=M(),r=j(),{data:g,isLoading:d}=h(),{mutate:i,isPending:n,error:$}=P({onError:f=>{var e;l({severity:"error",summary:"An error occurred",detail:(e=f.response)==null?void 0:e.data})},onSuccess:()=>{r.query.redirect?u.push({path:r.query.redirect.toString()}):u.push({name:"locations"}),l({severity:"success",summary:"Login Successful",detail:"Successfully logged in."})}});return(f,e)=>(c(),p("div",K,[o("div",T,[o("h2",D,[t(b,null,{default:a(()=>e[0]||(e[0]=[m("Log in")])),_:1,__:[0]}),e[1]||(e[1]=m(" via jouw instelling "))]),t(S,{institutions:s(g),"is-loading":s(d)},null,8,["institutions","is-loading"])]),t(s(N),{layout:"vertical",align:"center",class:"mx-0 self-stretch"},{default:a(()=>e[2]||(e[2]=[o("span",{class:"text-sm font-bold"},"OF",-1)])),_:1,__:[2]}),o("div",G,[o("h2",H,[t(b,null,{default:a(()=>e[3]||(e[3]=[m("Log in")])),_:1,__:[3]}),e[4]||(e[4]=m(" zonder instelling "))]),t(O,{idps:s(V),error:s($),"is-loading":s(n),onSubmit:s(i)},null,8,["idps","error","is-loading","onSubmit"])])]))}});export{Z as default};
