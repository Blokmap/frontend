import{g as F,a as S,y as H,q as X,m as R}from"./primevue-Ex1kWbwE.js";import{a$ as T,X as W,Y as q,U as J,ba as K,bb as Q,F as B,_ as z,e as E,bc as Z,A as ee,v as te}from"./index-BH2d3-5Q.js";import{f as ne,g as ae}from"./helpers-CQSRa6mq.js";import{_ as le}from"./ActionMenu.vue_vue_type_script_setup_true_lang-D8x-0TcO.js";import{N}from"./NavigationLink-IHA51wPx.js";import{L,a7 as U,a6 as O,l as $,Y as n,p as g,e as t,f as I,t as b,y as s,d as r,r as V,w as Y,h as k,H as M,c as y,F as D,q as P,A as G,aj as oe}from"./vue-Ch5H8NcK.js";var j=(e=>(e.Approved="approved",e.Pending="pending",e.Rejected="rejected",e))(j||{});const ie={class:"text-lg font-semibold text-gray-900"},se={class:"space-y-4"},ce={class:"text-gray-600"},de={class:"flex justify-end gap-3"},re=L({__name:"ConfirmDialog",props:U({title:{default:"Bevestigen"},content:{default:"Weet je dit zeker?"},confirmLabel:{default:"Bevestigen"},cancelLabel:{default:"Annuleren"},destructive:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:U(["click:confirm","click:cancel"],["update:visible"]),setup(e,{emit:m}){const a=m,c=O(e,"visible");function d(){a("click:confirm")}function l(){a("click:cancel")}return(i,v)=>(r(),$(n(F),{visible:c.value,"onUpdate:visible":v[0]||(v[0]=x=>c.value=x),modal:"",closable:!e.loading,"dismissable-mask":!e.loading,class:"mx-4 w-full max-w-lg","content-class":"rounded-lg"},{header:g(()=>[I(i.$slots,"title",{},()=>[t("h3",ie,b(e.title),1)])]),footer:g(()=>[t("div",de,[s(n(S),{label:e.cancelLabel,severity:"contrast",disabled:e.loading,onClick:l,outlined:""},null,8,["label","disabled"]),s(n(S),{label:e.confirmLabel,severity:e.destructive?"danger":"primary",loading:e.loading,onClick:d},null,8,["label","severity","loading"])])]),default:g(()=>[t("div",se,[I(i.$slots,"content",{},()=>[t("p",ce,b(e.content),1)])])]),_:3},8,["visible","closable","dismissable-mask"]))}}),ue={class:"space-y-4"},fe={class:"text-gray-600"},ge={class:"space-y-2"},me={class:"flex justify-end gap-3"},ve=L({__name:"LocationConfirmationDialog",props:U({location:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:U(["click:confirm","click:cancel"],["update:visible"]),setup(e,{emit:m}){const a=e,c=m,d=O(e,"visible"),l=V(!1),i=V("");Y(()=>d.value,w=>{w&&(i.value="",l.value=!1)});async function v(){c("click:confirm")}function x(){c("click:cancel")}return(w,o)=>(r(),$(n(F),{visible:d.value,"onUpdate:visible":o[1]||(o[1]=p=>d.value=p),modal:"",closable:!l.value,"dismissable-mask":!l.value,class:"mx-4 w-full max-w-lg","content-class":"rounded-lg"},{header:g(()=>[...o[2]||(o[2]=[t("div",{class:"flex items-center gap-3"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Locatie afkeuren")],-1)])]),footer:g(()=>[t("div",me,[s(n(S),{label:"Annuleren",severity:"contrast",disabled:l.value,onClick:x,outlined:""},null,8,["disabled"]),s(n(S),{label:"Afkeuren",severity:"danger",loading:l.value,onClick:v},null,8,["loading"])])]),default:g(()=>{var p;return[t("div",ue,[t("p",fe,[o[3]||(o[3]=k(" Weet je zeker dat je ",-1)),t("strong",null,'"'+b((p=a.location)==null?void 0:p.name)+'"',1),o[4]||(o[4]=k(" wilt afkeuren? Als je een reden opgeeft wordt deze getoond aan de gebruiker die de locatie heeft ingediend. ",-1))]),I(w.$slots,"default",{},()=>[t("div",ge,[o[5]||(o[5]=t("label",{for:"rejection-reason",class:"block text-sm font-medium text-gray-700"}," Reden voor afkeuring (optioneel) ",-1)),s(n(H),{id:"rejection-reason",modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=A=>i.value=A),placeholder:"Voer een reden in waarom deze locatie wordt afgekeurd...",disabled:l.value,rows:"4",class:"w-full"},null,8,["modelValue","disabled"])])])])]}),_:3},8,["visible","closable","dismissable-mask"]))}}),be={key:0},pe={class:"flex items-center gap-2 text-sm"},ke={key:0,class:"flex items-center gap-2 text-sm"},ye={class:"text-gray-600"},he=L({__name:"LocationActionsMenu",props:{location:{},isPending:{type:Boolean},deleteIsPending:{type:Boolean},showStatusChange:{type:Boolean,default:!0}},emits:["change:status","click:delete"],setup(e,{emit:m}){const a=e,c=m,d=V(!1),l=V(!1),i=M(()=>[{label:"In Afwachting",value:"pending",icon:T},{label:"Goedgekeurd",value:"approved",icon:W},{label:"Afgekeurd",value:"rejected",icon:q}]),v=M(()=>i.value.find(h=>h.value===a.location.state)||null);function x(){a.location.state!=="rejected"&&c("change:status",a.location.id,"rejected"),d.value=!1}function w(){d.value=!1}function o(){c("click:delete",a.location.id)}function p(){l.value=!1}async function A(h,u){const f=h.value;if(f&&f!==a.location.state){if(u(),f==="rejected"){d.value=!0;return}c("change:status",a.location.id,f)}}function _(h){h(),l.value=!0}return Y(()=>a.deleteIsPending,(h,u)=>{u&&!h&&l.value&&(l.value=!1)}),(h,u)=>(r(),y(D,null,[s(le,{"is-pending":e.isPending},{trigger:g(({toggle:f})=>[I(h.$slots,"trigger",{toggle:f},void 0,!0)]),content:g(({hideMenu:f})=>[e.showStatusChange?(r(),y("div",be,[u[2]||(u[2]=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Status wijzigen ",-1)),s(n(X),{"model-value":a.location.state,options:i.value,loading:e.isPending,"option-label":"label","option-value":"value",placeholder:"Selecteer nieuwe status",class:"w-full min-w-[200px]",onChange:C=>A(C,f)},{option:g(({option:C})=>[t("div",pe,[s(n(B),{icon:C.icon},null,8,["icon"]),t("span",null,b(C.label),1)])]),value:g(({value:C})=>[C&&v.value?(r(),y("div",ke,[s(n(B),{icon:v.value.icon},null,8,["icon"]),t("span",null,b(v.value.label),1)])):P("",!0)]),_:1},8,["model-value","options","loading","onChange"])])):P("",!0)]),navigation:g(({hideMenu:f})=>[s(N,{icon:n(J),label:"Beheren",to:{name:"dashboard.locations.detail.info",params:{locationId:a.location.id}},onClick:f},null,8,["icon","to","onClick"]),s(N,{icon:n(K),label:"Reservaties",onClick:f},null,8,["icon","onClick"]),s(N,{icon:n(Q),label:"Verwijderen",destructive:!0,onClick:C=>_(f)},null,8,["icon","onClick"])]),_:3},8,["is-pending"]),e.showStatusChange?(r(),$(ve,{key:0,visible:d.value,"onUpdate:visible":u[0]||(u[0]=f=>d.value=f),location:e.location,"onClick:confirm":x,"onClick:cancel":w},null,8,["visible","location"])):P("",!0),s(re,{visible:l.value,"onUpdate:visible":u[1]||(u[1]=f=>l.value=f),title:"Locatie verwijderen","confirm-label":"Verwijderen",destructive:!0,loading:e.deleteIsPending,"onClick:confirm":o,"onClick:cancel":p},{content:g(()=>[t("p",ye,[u[3]||(u[3]=k(" Weet je zeker dat je ",-1)),t("strong",null,'"'+b(e.location.name)+'"',1),u[4]||(u[4]=k(" wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt. Naast de locatie wordt ook het volgende wordt verwijderd: ",-1))]),u[5]||(u[5]=t("ul",{class:"list-inside list-disc space-y-1 ps-3 text-gray-600"},[t("li",null,[k("Alle bijbehorende "),t("strong",null,"afbeeldingen")]),t("li",null,[k("Alle bijbehorende "),t("strong",null,"reservaties")]),t("li",null,[k("Alle bijbehorende "),t("strong",null,"openingstijden")]),t("li",null,[k("Alle bijbehorende "),t("strong",null,"reviews")])],-1))]),_:1},8,["visible","loading"])],64))}}),xe=z(he,[["__scopeId","data-v-769e6a75"]]),we={class:"flex flex-wrap gap-2"},Ce=L({__name:"LocationLanguagesList",props:{location:{}},setup(e){const m=e,{availableLocales:a}=E();function c(d){var i,v;const l=m.location;return((i=l.description)==null?void 0:i[d])||((v=l.excerpt)==null?void 0:v[d])}return(d,l)=>(r(),y("div",we,[(r(!0),y(D,null,G(n(a),i=>(r(),y(D,{key:i},[c(i)?(r(),$(n(R),{key:0,class:"bg-primary-100 text-primary-600"},{default:g(()=>[k(b(i.toUpperCase()),1)]),_:2},1024)):(r(),$(n(R),{key:1,class:"bg-gray-100 text-gray-400"},{default:g(()=>[k(b(i.toUpperCase()),1)]),_:2},1024))],64))),128))]))}}),je={class:"flex w-full items-center justify-around gap-1"},$e=L({__name:"LocationStateBadge",props:{location:{}},setup(e){const m={[j.Approved]:"success",[j.Pending]:"info",[j.Rejected]:"danger"},a={[j.Approved]:W,[j.Pending]:T,[j.Rejected]:q};return(c,d)=>(r(),$(n(R),{severity:m[e.location.state],class:"w-[90px]"},{default:g(()=>[t("div",je,[s(n(B),{icon:a[e.location.state]},null,8,["icon"]),t("span",null,b(oe(e.location.state)),1)])]),_:1},8,["severity"]))}}),Le={class:"location-card"},Ae={class:"location-image-container"},Be=["src","alt"],Ie={class:"min-w-0 flex-1 space-y-3"},De={class:"flex w-full items-center justify-between gap-3"},_e={class:"text-lg font-semibold text-gray-900 transition-colors md:text-xl"},Pe={class:"text-sm text-gray-500"},Se={class:"text-sm text-gray-700"},Re={class:"location-actions"},Ue=L({__name:"LocationDataItem",props:{location:{},actionIsPending:{type:Boolean},deleteIsPending:{type:Boolean},showStatusChange:{type:Boolean,default:!0}},emits:["click:delete","change:state"],setup(e,{emit:m}){const a=e,c=m,d=E(),l=te();function i(o){const[p]=o.images||[];return p?p.url:ae()}function v(o,p){c("change:state",o,p)}function x(o){c("click:delete",o)}function w(){l.push({name:"dashboard.locations.detail.info",params:{locationId:a.location.id}})}return(o,p)=>{var A;return r(),y("div",Le,[t("div",{class:"location-card-clickable",onClick:w},[t("div",Ae,[t("img",{src:i(e.location),alt:e.location.name,class:"h-full w-full object-cover"},null,8,Be)]),t("div",Ie,[t("div",De,[t("h3",_e,b(e.location.name),1),s($e,{location:e.location},null,8,["location"])]),e.location.createdBy?(r(),$(n(R),{key:0,severity:"contrast",class:"inline-flex gap-2"},{default:g(()=>{var _;return[s(n(B),{icon:n(Z)},null,8,["icon"]),t("span",null,b((_=e.location.createdBy)==null?void 0:_.firstName),1),s(n(B),{icon:n(ee)},null,8,["icon"])]}),_:1})):P("",!0),s(Ce,{location:e.location},null,8,["location"]),t("p",Pe,b(n(ne)(e.location)),1),t("p",Se,b((A=e.location.excerpt)==null?void 0:A[n(d).locale.value]),1)])]),t("div",Re,[s(xe,{location:e.location,"is-pending":e.actionIsPending,"delete-is-pending":e.deleteIsPending,"show-status-change":e.showStatusChange,"onChange:status":v,"onClick:delete":x},null,8,["location","is-pending","delete-is-pending","show-status-change"])])])}}}),Oe=z(Ue,[["__scopeId","data-v-d85d7baa"]]),Ve={class:"location-data-list"},Ne={class:"flex flex-col gap-4"},ze=L({__name:"LocationDataList",props:{locations:{},loading:{type:Boolean,default:!1},emptyMessage:{default:"No locations found"}},setup(e){return(m,a)=>(r(),y("div",Ve,[t("div",Ne,[e.loading?(r(),y(D,{key:0},[],64)):(r(!0),y(D,{key:1},G(e.locations,c=>I(m.$slots,"item",{key:c.id,location:c},void 0,!0)),128))])]))}}),Ye=z(ze,[["__scopeId","data-v-c7951d82"]]);export{Oe as L,Ye as a};
